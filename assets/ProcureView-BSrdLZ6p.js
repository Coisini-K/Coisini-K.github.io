import{_ as M,B as w}from"./index-D9dDyMwk.js";import{r,o as n,a as t,b as e,F as p,e as _,t as o,l as T,c as U,i as g,Q as j,S as C,v as F,T as V,f as B}from"./vendor-lpiDMqPK.js";const P={class:"recommend-cates sub-wrap"},z=["href"],R={__name:"HotRecommend",setup($){const u=r([{items:[{name:"苹果",url:"/purchase/apple"},{name:"柑桔",url:"/purchase/citrus"},{name:"鸡",url:"/purchase/chicken"},{name:"鸡蛋",url:"/purchase/egg"},{name:"红薯",url:"/purchase/sweetpotato"},{name:"猪副产品",url:"/purchase/pigbyproducts"},{name:"辣椒",url:"/purchase/chili"},{name:"鸡苗",url:"/purchase/chickensalvage"},{name:"土豆",url:"/purchase/potato"},{name:"生姜",url:"/purchase/ginger"},{name:"大蒜",url:"/purchase/garlic"},{name:"葡萄",url:"/purchase/grape"},{name:"大米",url:"/purchase/rice"},{name:"白菜",url:"/purchase/cabbage"},{name:"柚子",url:"/purchase/grapefruit"}]},{items:[{name:"甘蔗",url:"/purchase/sugarcane"},{name:"板栗",url:"/purchase/chestnut"},{name:"榴莲",url:"/purchase/durian"},{name:"大闸蟹",url:"/purchase/crab"},{name:"干玉米",url:"/purchase/corn"},{name:"有机肥",url:"/purchase/fertilizer"},{name:"西红柿",url:"/purchase/tomato"},{name:"核桃",url:"/purchase/walnut"},{name:"梨",url:"/purchase/pear"},{name:"大葱",url:"/purchase/scallion"},{name:"花生",url:"/purchase/peanut"},{name:"杀菌剂",url:"/purchase/fungicide"},{name:"羊",url:"/purchase/sheep"},{name:"山药",url:"/purchase/yam"},{name:"牛",url:"/purchase/cattle"}]},{items:[{name:"鱼苗",url:"/purchase/fishseed"},{name:"橙子",url:"/purchase/orange"},{name:"鲜枣",url:"/purchase/jujube"},{name:"杀虫剂",url:"/purchase/insecticide"},{name:"包菜",url:"/purchase/cabbage"},{name:"大豆",url:"/purchase/soybean"},{name:"鲜玉米",url:"/purchase/freshcorn"},{name:"鹅苗",url:"/purchase/gooseseed"},{name:"萝卜",url:"/purchase/radish"},{name:"干菜",url:"/purchase/driedvegetables"},{name:"鸭",url:"/purchase/duck"},{name:"休闲零食",url:"/purchase/snacks"},{name:"生蚝",url:"/purchase/oyster"},{name:"黄精",url:"/purchase/huangjing"}]}]);return(d,c)=>(n(),t("div",P,[e("ul",null,[c[0]||(c[0]=e("li",{class:"label-recommend"},"热门推荐",-1)),(n(!0),t(p,null,_(u.value,(h,v)=>(n(),t("li",{class:"sub-row no-padding",key:v},[(n(!0),t(p,null,_(h.items,(i,m)=>(n(),t("a",{key:m,href:i.url,target:"_blank",class:"third-cate-item link-expanded"},o(i.name),9,z))),128))]))),128))])]))}},q=M(R,[["__scopeId","data-v-772c366f"]]),D={class:"demo-form-inline"},E={class:"form-item"},H=["value"],I={class:"form-item"},L={class:"form-item"},A={class:"table-box"},Q={class:"custom-table",style:{width:"100%"}},G=["onClick"],J={class:"pagination"},K=["disabled"],O=["disabled"],W={__name:"TableForm",setup($){const u=r(1),d=r(10),c=r(0),h=r([]),v=r(!1),i=r(!1),m=r(1),f=s=>{s>=1&&s<=y.value&&(u.value=s,k())},k=async()=>{try{const s=b.value?b.value:"",a=await V.get(`${w}/purchase/query/${u.value}/${d.value}`,{params:{params:s}});h.value=a.data.data.list,c.value=a.data.data.total,u.value=a.data.data.pageNum}catch(s){console.log(`警告: ${s.message}`)}},b=r(""),x=r([]),N=async()=>{try{const s=await V.get(`${w}/city/list`);x.value=s.data.data.map(a=>({id:a.id,city:a.city}))}catch(s){console.log(`警告: ${s.message}`)}};T(()=>{k(),N()});const S=s=>{console.log("去报价抢单",s)},y=U(()=>Math.ceil(c.value/d.value));return(s,a)=>(n(),t(p,null,[e("div",null,[e("form",D,[e("div",E,[a[8]||(a[8]=e("label",null,"收货地区:",-1)),g(e("select",{"onUpdate:modelValue":a[0]||(a[0]=l=>b.value=l),onChange:k,size:"1"},[a[7]||(a[7]=e("option",{value:""},"不限地区",-1)),(n(!0),t(p,null,_(x.value,l=>(n(),t("option",{key:l.id,value:l.city},o(l.city),9,H))),128))],544),[[j,b.value]])]),e("div",I,[g(e("input",{type:"checkbox","onUpdate:modelValue":a[1]||(a[1]=l=>v.value=l)},null,512),[[C,v.value]]),a[9]||(a[9]=e("label",null,"最近7天发布",-1))]),e("div",L,[g(e("input",{type:"checkbox","onUpdate:modelValue":a[2]||(a[2]=l=>i.value=l)},null,512),[[C,i.value]]),a[10]||(a[10]=e("label",null,"最近30天发布",-1))])])]),e("div",A,[e("table",Q,[a[11]||(a[11]=e("thead",null,[e("tr",null,[e("th",null,"采购品种"),e("th",null,"采购量"),e("th",null,"收货地"),e("th",null,"采购方"),e("th",null,"更新时间"),e("th",null,"采购等级"),e("th",null,"操作")])],-1)),e("tbody",null,[(n(!0),t(p,null,_(h.value,l=>(n(),t("tr",{key:l.id},[e("td",null,o(l.kName),1),e("td",null,o(l.amount),1),e("td",null,o(l.receipt),1),e("td",null,o(l.buyer),1),e("td",null,o(l.updateTime),1),e("td",null,o(l.level),1),e("td",null,[e("button",{class:"success-btn",onClick:Y=>S(l)},"去报价抢单",8,G)])]))),128))])]),e("div",J,[e("button",{onClick:a[3]||(a[3]=l=>f(u.value-1)),disabled:u.value<=1},"上一页",8,K),e("span",null,"第 "+o(u.value)+" 页",1),e("button",{onClick:a[4]||(a[4]=l=>f(u.value+1)),disabled:u.value>=y.value},"下一页",8,O),e("span",null,"共 "+o(y.value)+" 页",1),g(e("input",{type:"number","onUpdate:modelValue":a[5]||(a[5]=l=>m.value=l),min:"1",max:"totalPages"},null,512),[[F,m.value,void 0,{number:!0}]]),e("button",{onClick:a[6]||(a[6]=l=>f(m.value))},"跳转")])])],64))}},X=M(W,[["__scopeId","data-v-2a599279"]]),ae={__name:"ProcureView",setup($){return(u,d)=>(n(),t("div",null,[B(q),B(X)]))}};export{ae as default};
